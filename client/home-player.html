<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Territory Game</title>
</head>
<body>
    <h1>Territory Game (Player Mode)</h1>

    <button onclick="window.location.href='/logout'">Log Out</button>
    <span>(Logged in as {{ username }})</span>
    
    <ul id="player-list"></ul>

    <p>Hello, {{ username }}. You have {{ secrets.food }} food and {{ secrets.gold }} gold.</p>
    <p>Current strategy: {{ secrets.strategy }}</p>

    <form id="strategy-form" action="/set_strategy" method="post">
        <label for="strategy-select">Change strategy:</label>
        <select id="strategy-select" name="strategy">
            {% for strat in strategies %}
                <option value="{{ strat }}">{{ strat }}</option>
            {% endfor %}
        </select>
        <button id="set-strategy-button">Submit</button>
    </form>

    
    <script type="module">
        import { loadPlayers } from './script.js';
        loadPlayers("player-list");
        
        document.getElementById("strategy-select").value = "{{ secrets.strategy }}";
    </script>
</body>
</html>